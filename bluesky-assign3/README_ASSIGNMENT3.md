# Assignment 3: Online Recruitment Fraud Detection Labeler

Group Number: Group 14

Group Members: Jiayu Zhang (jz2344), Xinyi Huang (xh453), Eva Huang (lh764), Grace Myers (gm586)

## Description of files
- train_model.py: Training script. Reads labeled text from `cleaned_training_data.csv`, creates a stratified train/test split, trains TF‑IDF + Logistic Regression, and saves artifacts and split CSVs.
- test_model.py: Offline evaluator. Loads saved artifacts and evaluates only the held‑out test set. Prints overall Accuracy, Precision, Recall, F1, a classification report, and a few example posts (TP/TN/FP/FN categories).
- cleaned_training_data.csv: Labeled dataset used for training and creating the held‑out test split. Columns: `text`, `label` (0=legit, 1=suspicious, 2=fraudulent).
- train_test_split_indices.csv: Generated by training; indicates which row indices belong to `train` vs `test`.
- train_set.csv / test_set.csv: Generated by training; the explicit records for each split.
- requirements.txt: Python dependencies for this project.
- README_ASSIGNMENT3.md: This file with group details, file descriptions, and run instructions.

## How to run tests
1) Create env and install deps
```bash
cd /bluesky-assign3
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

2) Train (example: binary, 75% train split; artifacts and split CSVs will be created)
Flags/options and how to use them:
- `--data`: Path to the labeled CSV. Default: `cleaned_training_data.csv`.
- `--out_dir`: Directory to write artifacts and split CSVs. Default: current directory (`.`).
- `--data_used_for_training`: Fraction in (0,1). If provided, a stratified random sample of that fraction is used as the training set; the remainder becomes the test set. Example: `--data_used_for_training 0.75`.
- `--binary`: Collapse labels {1,2} into a single positive class (recruitment‑risk) vs. 0 (legit). Omit to train 3‑class.

How the split works:
- If `--data_used_for_training <fraction>` is specified, we perform a stratified random split with the given fraction for training and the rest for testing (ensuring at least one row in each split). If not specified, the default fraction is 0.75 (75% train / 25% test).
- The split membership is saved to `train_test_split_indices.csv` and the explicit rows are written to `train_set.csv` and `test_set.csv`. The tester (`test_model.py`) uses these to ensure test evaluation contains no training rows.
```bash
python train_model.py --data cleaned_training_data.csv --out_dir . --data_used_for_training 0.75 --binary
```
Notes:
- The training script reports training‑set performance only (accuracy, precision, recall, F1 on the training split).
- Artifacts produced: `vectorizer.pkl`, `fraud_model.pkl`, `train_test_split_indices.csv`, `train_set.csv`, `test_set.csv`.

3) Test (evaluate ONLY on the held‑out test set)
```bash
python test_model.py --data test_set.csv --binary
```
The test report prints:
- “TEST SET PERFORMANCE … (no training data is present)”
- Overall Accuracy, Precision, Recall, F1
- Full classification report (binary or 3‑class)
- 2–3 qualitative examples for each: correct SAFE, correct SCAM, false negative, false positive

